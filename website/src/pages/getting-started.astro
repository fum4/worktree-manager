---
import Layout from "../layouts/Layout.astro";
import Nav from "../components/Nav.astro";
import Footer from "../components/Footer.astro";

const mcpJson = `{
  "mcpServers": {
    "dawg": {
      "command": "dawg",
      "args": ["mcp"]
    }
  }
}`;

const mcpToml = `[mcp_servers.dawg]
command = "dawg"
args = ["mcp"]`;

const mcpVscode = `{
  "mcp": {
    "servers": {
      "dawg": {
        "command": "dawg",
        "args": ["mcp"]
      }
    }
  }
}`;

const agents = [
  { id: "claude-code", name: "Claude Code", configPath: ".mcp.json", config: mcpJson },
  { id: "codex", name: "OpenAI Codex", configPath: ".codex/config.toml", config: mcpToml },
  { id: "cursor", name: "Cursor", configPath: ".cursor/mcp.json", config: mcpJson },
  { id: "kimi", name: "Kimi K2", configPath: "~/.kimi/mcp.json", config: mcpJson },
  { id: "gemini", name: "Gemini CLI", configPath: ".gemini/settings.json", config: mcpJson },
  { id: "vscode", name: "VS Code", configPath: ".vscode/settings.json", config: mcpVscode },
];

const copySvg = `<svg class="copy-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>`;
const checkSvg = `<svg class="check-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>`;
---

<Layout
  title="Getting Started — dawg"
  description="Set up dawg and let your AI agents start shipping pull requests autonomously."
>
  <Nav />
  <main class="docs-page">
    <div class="container">
      <header class="docs-header fade-in">
        <h1>Getting Started</h1>
        <p class="docs-lead">
          Set up dawg and let your AI agents start shipping.
        </p>
      </header>
      <div class="docs-layout">
        <aside class="docs-sidebar">
          <nav class="toc" id="toc">
            <span class="toc-label">On this page</span>
            <a href="#install" class="toc-link active" data-section="install">Install</a>
            <a href="#cli-setup" class="toc-link" data-section="cli-setup">CLI Setup</a>
            <a href="#agents" class="toc-link" data-section="agents">Agent Setup</a>
            <a href="#cli" class="toc-link" data-section="cli">CLI Reference</a>
            <a href="#cli-default" class="toc-link toc-sub" data-section="cli-default">dawg</a>
            <a href="#cli-init" class="toc-link toc-sub" data-section="cli-init">dawg init</a>
            <a href="#cli-add" class="toc-link toc-sub" data-section="cli-add">dawg add</a>
            <a href="#cli-mcp" class="toc-link toc-sub" data-section="cli-mcp">dawg mcp</a>
            <a href="#cli-task" class="toc-link toc-sub" data-section="cli-task">dawg task</a>
          </nav>
        </aside>

        <div class="docs-content">
          <!-- ─── Install ──────────────────────────────────────── -->
          <section id="install" class="docs-section fade-in">
            <h2>Install</h2>
            <p>Download the desktop app. It includes a guided setup wizard that walks you through everything — no prerequisites needed.</p>
            <div class="install-primary">
              <a
                href="https://github.com/fum4/worktree-manager/releases/latest"
                target="_blank"
                rel="noopener"
                class="install-btn"
              >
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="7 10 12 15 17 10"></polyline>
                  <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
                Download for macOS
              </a>
            </div>
            <p>Open the app, point it at your project, and the wizard handles config, port discovery, and integrations. That's it — you're ready to go.</p>
          </section>

          <!-- ─── CLI Setup ──────────────────────────────────────── -->
          <section id="cli-setup" class="docs-section fade-in">
            <h2>CLI Setup</h2>
            <div class="callout">
              <span class="callout-icon">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
              </span>
              <span>If you installed the desktop app, skip this section — the setup wizard already took care of everything.</span>
            </div>
            <p>Install the CLI globally:</p>
            <div class="cli-block">
              <div class="cli-lines">
                <div class="cli-line"><span class="cli-prompt">$ </span>npm install -g dawg</div>
              </div>
              <button class="copy-btn" data-copy="npm install -g dawg" aria-label="Copy">
                <Fragment set:html={copySvg} />
                <Fragment set:html={checkSvg} />
              </button>
            </div>
            <p>Navigate to your project root and run the setup wizard:</p>
            <div class="cli-block">
              <div class="cli-lines">
                <div class="cli-line"><span class="cli-prompt">$ </span>dawg init</div>
              </div>
              <button class="copy-btn" data-copy="dawg init" aria-label="Copy">
                <Fragment set:html={copySvg} />
                <Fragment set:html={checkSvg} />
              </button>
            </div>
            <p>
              The wizard auto-detects your package manager, dev start command, and base branch.
              It creates a <code>.dawg/config.json</code> that you can commit to share settings with your team.
            </p>
            <p>Once the server is running, click <strong>Discover Ports</strong> in the UI to detect which ports your dev server binds. dawg uses these to auto-offset ports per worktree so you can run multiple environments in parallel.</p>
            <div class="callout">
              <span class="callout-icon">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
              </span>
              <span>dawg integrates with <strong>Jira</strong>, <strong>Linear</strong>, and <strong>GitHub</strong>. Connect them from the UI or via <code>dawg add</code>.</span>
            </div>
          </section>

          <!-- ─── Agent Setup ──────────────────────────────────── -->
          <section id="agents" class="docs-section fade-in">
            <h2>Agent Setup</h2>
            <p>dawg exposes 20+ tools via <a href="https://modelcontextprotocol.io" target="_blank" rel="noopener">MCP</a> that let AI agents manage your full development workflow. Add dawg as an MCP server in your agent's config:</p>

            <div class="agent-tabs">
              <div class="agent-tab-bar">
                {agents.map((agent, i) => (
                  <button class={`agent-tab${i === 0 ? " active" : ""}`} data-agent={agent.id}>
                    {agent.name}
                  </button>
                ))}
              </div>
              <div class="agent-tab-panels">
                {agents.map((agent, i) => (
                  <div class={`agent-tab-panel${i === 0 ? " active" : ""}`} data-agent={agent.id}>
                    <span class="agent-config-path">
                      <code>{agent.configPath}</code>
                    </span>
                    <pre><code set:text={agent.config} /></pre>
                    <button class="copy-btn agent-copy-btn" data-copy={agent.config} aria-label="Copy config">
                      <Fragment set:html={copySvg} />
                      <Fragment set:html={checkSvg} />
                    </button>
                  </div>
                ))}
              </div>
            </div>

            <p>Once connected, agents can:</p>
            <ul>
              <li>Pick up tasks from Jira, Linear, or local issues</li>
              <li>Create isolated worktrees with full issue context</li>
              <li>Run hooks — type checks, tests, code review</li>
              <li>Commit, push, and create pull requests</li>
            </ul>

            <p>If the dawg UI is running, agents share live state with it — you see every action in the activity feed in real time. If no UI is running, agents work standalone.</p>
          </section>

          <!-- ─── CLI Reference ────────────────────────────────── -->
          <section id="cli" class="docs-section fade-in">
            <h2>CLI Reference</h2>
            <div class="cli-block">
              <div class="cli-lines">
                <div class="cli-line"><span class="cli-prompt">$ </span>dawg [command] [options]</div>
              </div>
            </div>

            <!-- dawg (default) -->
            <article id="cli-default" class="cli-entry">
              <h3><code>dawg</code></h3>
              <p>Start the server and open the web UI.</p>
              <div class="cli-block">
                <div class="cli-lines">
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg</div>
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg --no-open</div>
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg --auto-init</div>
                </div>
                <button class="copy-btn" data-copy="dawg" aria-label="Copy">
                  <Fragment set:html={copySvg} />
                  <Fragment set:html={checkSvg} />
                </button>
              </div>
              <p>Loads config from <code>.dawg/config.json</code>, starts the HTTP server, and opens the UI in the Electron app or your browser. On first run, installs the <code>dawg</code> command to <code>~/.local/bin/</code>.</p>
              <table>
                <thead><tr><th>Option</th><th>Description</th></tr></thead>
                <tbody>
                  <tr><td><code>--no-open</code></td><td>Start the server without opening the UI</td></tr>
                  <tr><td><code>--auto-init</code></td><td>Auto-initialize config if none is found (skips prompts)</td></tr>
                </tbody>
              </table>
            </article>

            <!-- dawg init -->
            <article id="cli-init" class="cli-entry">
              <h3><code>dawg init</code></h3>
              <p>Interactive setup wizard. Creates <code>.dawg/config.json</code> with your project settings.</p>
              <div class="cli-block">
                <div class="cli-lines">
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg init</div>
                </div>
                <button class="copy-btn" data-copy="dawg init" aria-label="Copy">
                  <Fragment set:html={copySvg} />
                  <Fragment set:html={checkSvg} />
                </button>
              </div>
              <p>Must be run inside a git repository. Auto-detects:</p>
              <table>
                <thead><tr><th>Setting</th><th>Detection</th></tr></thead>
                <tbody>
                  <tr><td>Base branch</td><td><code>origin/main</code> or <code>origin/master</code></td></tr>
                  <tr><td>Dev command</td><td>From <code>package.json</code> scripts</td></tr>
                  <tr><td>Install command</td><td><code>pnpm install</code>, <code>yarn install</code>, etc.</td></tr>
                  <tr><td>Ports</td><td>Discovered from running dev server</td></tr>
                </tbody>
              </table>
              <p>After setup, both <code>.dawg/config.json</code> and <code>.dawg/.gitignore</code> are staged and ready to commit.</p>
            </article>

            <!-- dawg add -->
            <article id="cli-add" class="cli-entry">
              <h3><code>dawg add [integration]</code></h3>
              <p>Connect an integration. Run without arguments for an interactive picker.</p>
              <div class="cli-block">
                <div class="cli-lines">
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg add<span class="cli-comment">            # Interactive picker</span></div>
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg add github<span class="cli-comment">     # Requires gh CLI</span></div>
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg add linear<span class="cli-comment">     # Requires API key</span></div>
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg add jira<span class="cli-comment">       # OAuth or API token</span></div>
                </div>
                <button class="copy-btn" data-copy="dawg add" aria-label="Copy">
                  <Fragment set:html={copySvg} />
                  <Fragment set:html={checkSvg} />
                </button>
              </div>
              <table>
                <thead><tr><th>Integration</th><th>What You Need</th></tr></thead>
                <tbody>
                  <tr><td><code>github</code></td><td><a href="https://cli.github.com" target="_blank" rel="noopener">GitHub CLI</a> installed and authenticated (<code>gh auth login</code>)</td></tr>
                  <tr><td><code>linear</code></td><td>API key from <a href="https://linear.app/settings/account/security/api-keys/new" target="_blank" rel="noopener">Linear settings</a></td></tr>
                  <tr><td><code>jira</code></td><td>OAuth app or API token from <a href="https://id.atlassian.com/manage-profile/security/api-tokens" target="_blank" rel="noopener">Atlassian</a></td></tr>
                </tbody>
              </table>
            </article>

            <!-- dawg mcp -->
            <article id="cli-mcp" class="cli-entry">
              <h3><code>dawg mcp</code></h3>
              <p>Start as an MCP server for AI coding agents. Uses stdio for JSON-RPC communication.</p>
              <div class="cli-block">
                <div class="cli-lines">
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg mcp</div>
                </div>
                <button class="copy-btn" data-copy="dawg mcp" aria-label="Copy">
                  <Fragment set:html={copySvg} />
                  <Fragment set:html={checkSvg} />
                </button>
              </div>
              <p>Operates in two modes:</p>
              <ul>
                <li><strong>Proxy mode</strong> — if the UI is running, relays to the HTTP server. Agent and UI share live state.</li>
                <li><strong>Standalone mode</strong> — no UI needed. Agent gets full functionality independently.</li>
              </ul>
            </article>

            <!-- dawg task -->
            <article id="cli-task" class="cli-entry">
              <h3><code>dawg task [source] [ID...]</code></h3>
              <p>Create worktrees from Jira, Linear, or local issues. Run without arguments for an interactive prompt.</p>
              <div class="cli-block">
                <div class="cli-lines">
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg task<span class="cli-comment"> # Interactive</span></div>
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg task jira PROJ-123<span class="cli-comment"> # Jira</span></div>
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg task linear ENG-42<span class="cli-comment"> # Linear</span></div>
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg task local 7<span class="cli-comment"> # Local</span></div>
                  <div class="cli-line"><span class="cli-prompt">$ </span>dawg task jira 101 102 103<span class="cli-comment"> # Batch</span></div>
                </div>
                <button class="copy-btn" data-copy="dawg task jira PROJ-123" aria-label="Copy">
                  <Fragment set:html={copySvg} />
                  <Fragment set:html={checkSvg} />
                </button>
              </div>
            </article>
          </section>
        </div>
      </div>
    </div>
  </main>
  <Footer />
</Layout>

<script>
  // TOC scroll tracking
  const tocLinks = document.querySelectorAll<HTMLAnchorElement>(".toc-link");
  const sections = document.querySelectorAll<HTMLElement>(".docs-section, .cli-entry");

  const tocObserver = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          tocLinks.forEach((link) => link.classList.remove("active"));
          const id = entry.target.id;
          const activeLink = document.querySelector(`.toc-link[data-section="${id}"]`);
          if (activeLink) activeLink.classList.add("active");
        }
      });
    },
    { rootMargin: "-80px 0px -60% 0px", threshold: 0 },
  );

  sections.forEach((section) => tocObserver.observe(section));

  // Agent tabs
  document.querySelectorAll<HTMLButtonElement>(".agent-tab").forEach((tab) => {
    tab.addEventListener("click", () => {
      const agent = tab.dataset.agent;
      document.querySelectorAll(".agent-tab").forEach((t) => t.classList.remove("active"));
      document.querySelectorAll(".agent-tab-panel").forEach((p) => p.classList.remove("active"));
      tab.classList.add("active");
      document.querySelector(`.agent-tab-panel[data-agent="${agent}"]`)?.classList.add("active");
    });
  });

  // Copy buttons
  document.querySelectorAll(".copy-btn").forEach((btn) => {
    btn.addEventListener("click", async () => {
      const text = (btn as HTMLElement).dataset.copy || "";
      await navigator.clipboard.writeText(text);
      btn.classList.add("copied");
      setTimeout(() => btn.classList.remove("copied"), 2000);
    });
  });
</script>

<style>
  /* ─── Page layout ──────────────────────────────────────────── */
  .docs-page {
    padding-top: calc(var(--nav-height) + 24px);
    padding-bottom: 80px;
    min-height: 100vh;
  }

  .docs-header {
    margin-bottom: 28px;
  }

  .docs-header h1 {
    font-size: 40px;
    font-weight: 800;
    letter-spacing: -0.035em;
    margin-bottom: 12px;
  }

  .docs-lead {
    font-size: 17px;
    color: var(--text-secondary);
    line-height: 1.6;
    max-width: 480px;
  }

  .docs-layout {
    display: grid;
    grid-template-columns: 200px 1fr;
    gap: 64px;
    align-items: start;
  }

  /* ─── Sidebar TOC ──────────────────────────────────────────── */
  .docs-sidebar {
    position: sticky;
    top: calc(var(--nav-height) + 32px);
  }

  .toc {
    display: flex;
    flex-direction: column;
    gap: 2px;
    border-left: 1px solid var(--border-subtle);
    padding-left: 16px;
  }

  .toc-label {
    font-family: var(--font-display);
    font-size: 11px;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.06em;
    margin-bottom: 8px;
  }

  .toc-link {
    font-size: 13px;
    color: var(--text-muted) !important;
    padding: 4px 0;
    transition: color 0.2s var(--ease-out-quart) !important;
    position: relative;
  }

  .toc-link:hover {
    color: var(--text-secondary) !important;
  }

  .toc-link.active {
    color: var(--accent) !important;
  }

  .toc-link.active::before {
    content: "";
    position: absolute;
    left: -17px;
    top: 4px;
    bottom: 4px;
    width: 2px;
    background: var(--accent);
    border-radius: 1px;
  }

  .toc-sub {
    padding-left: 12px;
    font-size: 12px;
  }

  /* ─── Content ──────────────────────────────────────────────── */
  .docs-content {
    min-width: 0;
  }

  .docs-section {
    padding-bottom: 48px;
    margin-bottom: 48px;
    border-bottom: 1px solid var(--border-subtle);
  }

  .docs-section:last-child {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
  }

  .docs-section h2 {
    font-size: 26px;
    font-weight: 700;
    margin-bottom: 20px;
    letter-spacing: -0.02em;
  }

  .docs-section h3,
  .cli-entry h3 {
    font-size: 17px;
    font-weight: 600;
    margin-top: 32px;
    margin-bottom: 12px;
    letter-spacing: -0.01em;
  }

  .docs-section p {
    font-size: 15px;
    color: var(--text-secondary);
    line-height: 1.7;
    margin-bottom: 16px;
    max-width: 640px;
  }

  .docs-section ul {
    list-style: none;
    padding: 0;
    margin-bottom: 16px;
  }

  .docs-section li {
    font-size: 15px;
    color: var(--text-secondary);
    line-height: 1.7;
    padding-left: 20px;
    position: relative;
    margin-bottom: 6px;
  }

  .docs-section li::before {
    content: "";
    position: absolute;
    left: 4px;
    top: 11px;
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background: var(--accent);
    opacity: 0.6;
  }

  .docs-section strong {
    color: var(--text-primary);
    font-weight: 600;
  }

  .docs-section a {
    color: var(--accent) !important;
  }

  /* ─── CLI blocks ───────────────────────────────────────────── */
  .cli-block {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    background: var(--bg-panel);
    border: 1px solid var(--border-subtle);
    border-radius: 10px;
    padding: 14px 16px;
    margin-bottom: 16px;
    font-family: var(--font-mono);
    font-size: 13px;
    line-height: 1.7;
  }

  .cli-lines {
    flex: 1;
    min-width: 0;
  }

  .cli-line {
    white-space: nowrap;
  }

  .cli-prompt {
    color: var(--accent);
    user-select: none;
  }

  .cli-comment {
    color: var(--text-muted);
    opacity: 0.6;
  }

  .cli-block .copy-btn {
    flex-shrink: 0;
    margin-top: 2px;
  }

  /* ─── Code blocks (non-CLI) ────────────────────────────────── */
  pre {
    background: var(--bg-panel);
    border: 1px solid var(--border-subtle);
    border-radius: 10px;
    padding: 16px 20px;
    margin-bottom: 16px;
    overflow-x: auto;
    font-size: 13px;
    line-height: 1.7;
  }

  pre code {
    background: none;
    padding: 0;
    border: none;
    border-radius: 0;
    font-size: inherit;
    color: var(--text-primary);
  }

  code {
    font-family: var(--font-mono);
    font-size: 13px;
    background: var(--bg-raised);
    padding: 2px 7px;
    border-radius: 5px;
    color: var(--accent);
    border: 1px solid var(--border-subtle);
  }

  /* ─── Tables ───────────────────────────────────────────────── */
  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 16px;
    font-size: 13px;
  }

  thead th {
    text-align: left;
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 12px;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.04em;
    padding: 8px 12px;
    border-bottom: 1px solid var(--border-medium);
  }

  tbody td {
    padding: 10px 12px;
    color: var(--text-secondary);
    border-bottom: 1px solid var(--border-subtle);
    line-height: 1.5;
  }

  tbody tr:last-child td {
    border-bottom: none;
  }

  /* ─── Install ─────────────────────────────────────────────── */
  .install-primary {
    margin-bottom: 20px;
  }

  .install-alt {
    font-size: 14px !important;
    color: var(--text-muted) !important;
    margin-bottom: 10px !important;
  }

  .install-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    background: rgba(45, 212, 191, 0.1);
    color: var(--accent) !important;
    border-radius: 8px;
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 13px;
    border: 1px solid rgba(45, 212, 191, 0.2);
    transition:
      background 0.2s var(--ease-out-quart),
      border-color 0.2s var(--ease-out-quart);
  }

  .install-btn:hover {
    background: rgba(45, 212, 191, 0.18);
    border-color: rgba(45, 212, 191, 0.35);
    color: var(--accent) !important;
  }

  /* ─── Copy button ──────────────────────────────────────────── */
  .copy-btn {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: 4px;
    display: flex;
    transition: color 0.2s var(--ease-out-quart);
    border-radius: 4px;
  }

  .copy-btn:hover {
    color: var(--accent);
    background: rgba(45, 212, 191, 0.08);
  }

  .copy-btn :global(.check-icon) {
    display: none;
    color: var(--accent);
  }

  .copy-btn.copied :global(.copy-icon) {
    display: none;
  }

  .copy-btn.copied :global(.check-icon) {
    display: block;
  }

  /* ─── Agent tabs ───────────────────────────────────────────── */
  .agent-tabs {
    margin-top: 24px;
    margin-bottom: 24px;
  }

  .agent-tab-bar {
    display: flex;
    gap: 2px;
    background: var(--bg-panel);
    border: 1px solid var(--border-subtle);
    border-bottom: none;
    border-radius: 10px 10px 0 0;
    padding: 4px 4px 0;
    overflow-x: auto;
  }

  .agent-tab {
    padding: 9px 16px;
    background: none;
    border: none;
    border-radius: 8px 8px 0 0;
    font-family: var(--font-display);
    font-size: 12px;
    font-weight: 600;
    color: var(--text-muted);
    cursor: pointer;
    transition:
      color 0.2s var(--ease-out-quart),
      background 0.2s var(--ease-out-quart);
    white-space: nowrap;
  }

  .agent-tab:hover {
    color: var(--text-secondary);
    background: rgba(255, 255, 255, 0.02);
  }

  .agent-tab.active {
    color: var(--accent);
    background: rgba(255, 255, 255, 0.06);
  }

  .agent-tab-panels {
    background: var(--bg-panel);
    border: 1px solid var(--border-subtle);
    border-radius: 0 0 10px 10px;
    overflow: hidden;
  }

  .agent-tab-panel {
    display: none;
    padding: 16px 20px;
    position: relative;
  }

  .agent-tab-panel.active {
    display: block;
  }

  .agent-tab-panel pre {
    margin-bottom: 0;
    border: 1px solid var(--border-subtle);
  }

  .agent-config-path {
    display: block;
    margin-bottom: 10px;
  }

  .agent-config-path code {
    font-size: 12px;
  }

  .agent-copy-btn {
    position: absolute;
    top: 16px;
    right: 20px;
  }

  /* ─── Callout ──────────────────────────────────────────────── */
  .callout {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    background: rgba(45, 212, 191, 0.04);
    border: 1px solid rgba(45, 212, 191, 0.1);
    border-radius: 10px;
    padding: 14px 18px;
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.6;
    margin-bottom: 20px;
  }

  .callout-icon {
    color: var(--accent);
    flex-shrink: 0;
    margin-top: 2px;
  }

  .callout code {
    font-size: 12px;
  }

  /* ─── CLI entries ──────────────────────────────────────────── */
  .cli-entry {
    padding-top: 32px;
    margin-top: 32px;
    border-top: 1px solid var(--border-subtle);
  }

  .cli-entry:first-of-type {
    margin-top: 24px;
    border-top: none;
    padding-top: 0;
  }

  .cli-entry h3 {
    margin-top: 0;
    margin-bottom: 12px;
  }

  .cli-entry h3 code {
    font-size: 16px;
    background: none;
    border: none;
    padding: 0;
    color: var(--text-primary);
  }

  .cli-entry p {
    font-size: 15px;
    color: var(--text-secondary);
    line-height: 1.7;
    margin-bottom: 16px;
    max-width: 640px;
  }

  .cli-entry ul {
    list-style: none;
    padding: 0;
    margin-bottom: 16px;
  }

  .cli-entry li {
    font-size: 15px;
    color: var(--text-secondary);
    line-height: 1.7;
    padding-left: 20px;
    position: relative;
    margin-bottom: 6px;
  }

  .cli-entry li::before {
    content: "";
    position: absolute;
    left: 4px;
    top: 11px;
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background: var(--accent);
    opacity: 0.6;
  }

  .cli-entry strong {
    color: var(--text-primary);
    font-weight: 600;
  }

  .cli-entry a {
    color: var(--accent) !important;
  }

  /* ─── Responsive ───────────────────────────────────────────── */
  @media (max-width: 860px) {
    .docs-layout {
      grid-template-columns: 1fr;
      gap: 0;
    }

    .docs-sidebar {
      position: static;
      margin-bottom: 40px;
    }

    .toc {
      flex-direction: row;
      flex-wrap: wrap;
      border-left: none;
      padding-left: 0;
      gap: 4px 12px;
      border-bottom: 1px solid var(--border-subtle);
      padding-bottom: 16px;
    }

    .toc-label {
      width: 100%;
      margin-bottom: 4px;
    }

    .toc-link.active::before {
      display: none;
    }

    .toc-sub {
      padding-left: 0;
      font-size: 12px;
    }
  }

  @media (max-width: 640px) {
    .docs-header h1 {
      font-size: 32px;
    }

    .docs-page {
      padding-top: calc(var(--nav-height) + 32px);
    }

    .agent-tab {
      padding: 8px 12px;
      font-size: 11px;
    }
  }
</style>
